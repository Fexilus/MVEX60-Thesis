\chapter{Mathematical theory of symmetries}

In this chapter, the mathematical theory used in the thesis will be presented.
The theory mostly concerns Lie group analysis, and has a strong focus on symmetry methods. % TODO: What is the difference?
It is mainly based on material from three sources.
The first source, \cite{hydon2000symmetry}, serves as a great introductory text on the subject of symmetry methods.
The second source, \cite{olver1995equivalence}, treats the subject stringently and serves as a good reference point for the reader who wishes to understand the theory in more depth.
The third source, \cite{ovsiannikov1982group}, deals with group classification.
Due to its earlier publication date, it treats some subjects in a less modern way than the first two sources, but makes up for it in concreteness.

The notation used in the thesis will be based on the notation in \cite{hydon2000symmetry}, employing partial notational concepts from \cite{olver1995equivalence} and \cite{ovsiannikov1982group} when further clarity is desired.

%=============================================================================
\section{Point symmetries}

In mathematics, a symmetry is a transformation that preserves some structure.
The word symmetry is used as the mathematical concept encompasses what is normally meant by symmetry.
A symmetric face is a face such that when mirrored it look the same.
Here, mirroring is the transformation and \enquote{looking the same} is the structure.
In mathematics, however, the structure must be well defined, or in more common language must be a statement that is easily confirmed as true or false.
The transformation can also be chosen more freely, beyond the transformations usually implied when commonly talking about symmetries.

The most common example of a mathematical symmetry is rotating and flipping a triangle.
The structure of the triangle can be stated as the location of all the vertices and the length of the edges between specific vertices.
Rotating an equilateral triangle 120 or 240 degrees around its center will change the location of each individual vertex, but the positions of the set of all vertices will remain the same.
Since the edges are unchanged relative to the points, these rotations thus constitute a symmetry of the triangle.
It is worth noting that the rotational transformations map points from the 2-dimensional plane to the two dimensional plane or, stated in mathematical terms, the rotations are mappings \(\Gamma: \reals^2 \to \reals^2\).

In Lie group analysis transformations of this type are considered, but the structure of a triangle is instead replaced with the structure of a differential equation.
Initially, assume the differential equation is an ordinary differential equation (ODE) of the first order and can thus be written on the form
\begin{equation} \label[ode]{eq:first-order-ode}
  \dv{y}{x} = \omega(x,y).
\end{equation}
The structure of a first order ODE is thus defined by the function \(\omega\).
\(\omega\) defines an infinite set of solutions \(u(x)\) that all fulfill \cref{eq:first-order-ode}.
Geometrically, a solution can be thought of as a set \(\gamma_u\) of points in the \(xy\)-plane, which constitutes a curve, for which \(y = u(x)\) holds for all \(x\).
Not every curve in the \(xy\)-plane corresponds to a differentiable function however.
A curve corresponds to a function if and only if it is transverse, that is: the tangent of the curve never points in only the \(y\)-direction.
Additionally for a differential equation, every point in the \(xy\)-plane belongs to exactly one such curve \(\gamma_u\): the curve of the solution that runs through that point.

A symmetry of a first order ODE \labelcref{eq:first-order-ode} is then a transformation that preserves the solution curves.
This means that if and only if two points \(\pqty{x_1,y_1}\) and \(\pqty{x_2,y_2}\) belong to the same solution curve \(\gamma\), the transformed points \(\Gamma(x_1,y_1)\) and \(\Gamma(x_2,y_2)\) belong to the same solution curve, denoted by \(\Gamma\gamma\).
This property can be defined as:
\begin{defn}[Point symmetry] \label{defn:first-order-symmetry}
  A transformation 
  \begin{equation}
    \Gamma: \pqty{x,y} \mapsto \pqty{\hat{x}(x,y), \hat{y}(x,y)}
  \end{equation}
  is a point symmetry of \cref{eq:first-order-ode} if
  \begin{equation}
    \dv{y}{x} = \omega(x,y)
    \implies
    \dv{\hat{y}}{\hat{x}} = \omega(\hat{x},\hat{y}).
  \end{equation}
\end{defn}
The \enquote{point} in point symmetry refers to the fact that the transformation \(\Gamma\) only acts on the points belonging to the solution curves and nothing else.
This must not always be the case for symmetries, but that discussion is deferred to a later section of this chapter. % TODO: Make sure that this is true when more is written

%-----------------------------------------------------------------------------
\subsection{Jet spaces} \label{sec:jet-spaces}

The observant reader might have already noted that there is some need of clarification of \cref{defn:first-order-symmetry}.
While the transformation \(\Gamma\) treats \(y\) as a point in \(\reals\), \cref{eq:first-order-ode} treats \(y\) as a differentiable function of \(x\), or in other words an element of once continuously differentiable functions \(\mathcal{C}^1(\reals)\).
In many contexts this abuse of notation could be accepted without further remarks, but in group analysis the subtleties of these representations are key to some important results.
% TODO: Something about local theory

The \(xy\)-plane previously mentioned can be seen as consisting of two components: the independent space \(X \simeq \reals\) and the dependent space \(Y \simeq \reals\).
The plane then is the product space \(E = X \cross Y \simeq \reals^2\).
It is in this plane \(E\) that the curves \(\gamma\) live.
To be able to formulate differential statements, the space \(Y_1 = \reals\), sometimes called the first continuation of \(Y\) with respect to \(X\), is used.
The elements of \(Y_1\) will be denoted \(y'\) or \(y^{(1)}\).
The notation implies that the elements correspond to first derivatives of the function \(y(x)\), but it is important to note that in actuality the elements are scalar values.
\(Y_1\) can be combined with \(E\) to create \(J_1 = J_1 E = E \cross Y_1 \simeq \reals^3\), the first order jet space of \(E\).
Elements in \(J_1\) will be denoted \(\underset{1}{z} = \qty(x, y, y')\).

All differentiable functions \(u(x) \in \cont{1}{X}\) have a single equivalent curve \(\underset{1}{\gamma_u}\) in the jet space \(J_1\) called the first prolongation of \(u(x)\).
The prolongation can be defined pointwise as
\begin{equation}
  \underset{1}{\gamma_u} = \qty{\underset{1}{z} = \qty(\fixed{x}, y, y')\qq*{:} y = u(\fixed{x})\qc y' = \dv{u}{x}{(\fixed{x})}\qc \fixed{x} \in X}.
\end{equation}
While all functions have equivalent curves in \(J_1\), the opposite does not hold.
It is thus a proper subset of all curves in \(J_1\) that are prolongations of functions in \(\cont{1}{X}\).

An ODE can be reformulated using jet spaces.
The solutions of a first order ODE are functions satisfying an equation that can be written on the for of \cref{eq:first-order-ode}.
An equivalent problem can be formulated as finding curves in \(J_1\) satisfying
\begin{equation} \label{eq:first-order-jet-ode}
  \varepsilon(\underset{1}{z}) = y' - \omega(x,y) = 0,
\end{equation}
as well as the condition that the curve is a prolongation of some continuously differentiable function.

For higher order ODE:s, the theory can be extended to include higher order jet spaces \(J_k = J_k E\) that take the form
\begin{equation}
  J_k = X \cross Y \cross Y_1 \cross \dots \cross Y_k,
\end{equation}
with elements
\begin{equation}
  \underset{k}{z} = \qty(x, y, y', \dots, y^{(k)}).
\end{equation}
An ODE of degree \(k\) can thus be formulated as finding curves in \(J_k\) that satisfy both
\begin{equation}
  \varepsilon(\underset{k}{z}) = 0
\end{equation}
and that the curves should be \(k\):th order prolongations
\begin{equation}
  \underset{k}{\gamma_u} = \qty{\underset{k}{z} = \qty(\fixed{x}, y, y', \dots, y^{(k)})\qq*{:} y^{(l)} = \dv[l]{u}{x}{(\fixed{x})}\qc \fixed{x} \in X\qc l = 0, \dots, k}
\end{equation}
of some function \(u(x) \in \cont{k}{X}\).
Here \(y^{(0)} = y\) and \(\dv[0]{u}{x} = u(x)\).

%-----------------------------------------------------------------------------
\subsection{The total derivative}

Since the jet space \(J_k\) treats the variables \((y, y', \dots, y^{(k)})\) as independent coordinates differentiation in \(x\), denoted as \(\partial_x\), will not affect those terms.
While this is the desired behavior of a jet space, there is also a need to be able to mirror the behavior of differentiation of the functions \((y(x), y'(x), \dots, y^{(k)}(x))\) in \(x\).
Thus a differential operator on \(J_k\) is introduced, called the total derivative
\begin{equation}
  \tD{x} = \partial_x + y' \cdot \partial_y + y'' \cdot \partial_{y'} + \dots + y^{(l)} \cdot \partial_{y^{(l-1)}} + \dots .
\end{equation}
\(\tD{x}\) will act on expressions in \(J_k\) in the same way that \(\dv{x}\) would act on equivalent expressions consisting of \(x\), \(y(x)\) and derivatives of \(y(x)\) in \(x\).

A coordinate change \(\hat{x} = \hat{x}(x, y(x)),\, \hat{y} = \hat{y}(x, y(x)) = \hat{y}(\hat{x})\) in the function space can be represented in the jet space using the total derivative.
Due to the chain rule,
\begin{equation}
  \dv{\hat{y}}{\hat{x}} = 
  \frac{\pdv{\hat{y}}{x} + \pdv{\hat{y}}{y} \dv{y}{x}}{\pdv{\hat{x}}{x} + \pdv{\hat{x}}{y} \dv{y}{x}} =
  \frac{\tD{x} \hat{y}(x,y)}{\tD{x} \hat{x}(x,y)}.
\end{equation}
Using this and the equivalent formulation of \cref{eq:first-order-ode} in \cref{eq:first-order-jet-ode}, \cref{defn:first-order-symmetry} of a first order symmetry can be restated in the first order jet space \(J_1\).
\begin{lem} \label{lem:simple-first-order-symmetry}
  A transformation \(\Gamma: \pqty{x,y} \mapsto \pqty{\hat{x}(x,y), \hat{y}(x,y)}\) is a point symmetry of \cref{eq:first-order-ode} if and only if
  \begin{equation} \label{eq:simple-first-order-symmetry}
    \frac{\partial_x \hat{y} + \omega(x,y) \partial_y \hat{y}}{\partial_x \hat{x} + \omega(x,y) \partial_y \hat{x}} = \omega(\hat{x},\hat{y})
  \end{equation}
  holds.
\end{lem} % FIXME: Requirement of diffeomorphism
Given a transformation \(\Gamma\), it is therefore easy to check whether it is a point symmetry of \cref{eq:first-order-ode}.
The reverse process (finding point symmetries of \cref{eq:first-order-ode}) is on the other hand not easy, as \cref{eq:simple-first-order-symmetry} will in all but the most trivial cases result in a non-linear PDE in with two unknown functions.
By restricting attention to a specific type of point symmetries, these conditions can be simplified.

%=============================================================================
\section{Lie point symmetries}

A Lie group is a continuous group, where the continuity between members of the group can be described by one or more real valued parameters.
% TODO: Add more material on Lie groups, maybe as reference or in appendix.
For point symmetries, this means that a group of Lie point symmetries is a collection of transformations that move points in \(E\) smoothly.
The Lie groups are characterized by the dimensionality of these smooth transformations.
When the transformations move a given point \(\fixed{z} \in E\) to new points that together constitute a line, the Lie group is said to be a one parameter Lie group as the transformations can be indexed by a single continuous parameter \(\epsilon \in \reals\).
The transformations in a group of one-parameter Lie point symmetries can thus be parametrized as
\begin{equation} \label{eq:1p-lie-point-symmetry}
  \Gamma_\epsilon: \pqty{x,y} \mapsto \pqty{\hat{x}_\epsilon(x,y), \hat{y}_\epsilon(x,y)},
\end{equation}
where both \(\hat{x}_\epsilon(x,y)\) and \(\hat{y}_\epsilon(x,y)\) are smooth (and therefore differentiable) in \(\epsilon\) when fixing \(x\) and \(y\).
Additionally, the transformation parametrized by \(\epsilon = 0\) will be the identity transformation \(\Gamma_0: \pqty{x,y} \mapsto \pqty{x,y}\).
The following is a simple example of a one parameter Lie group of transformations.
\begin{exmp}
  The ODE
  \begin{equation} \label{eq:ex-a:ode}
    \dv{y}{x} = y = \omega(x, y)
  \end{equation}
  has several symmetries.
  One group of symmetries is
  \begin{equation} \label{eq:ex-a:transformation}
    \Gamma_\epsilon(x,y) =
    \pqty{\hat{x}_\epsilon(x,y), \hat{y}_\epsilon(x,y)} =
    \pqty{x + \epsilon, y}, \quad
    \forall \epsilon \in \reals
  \end{equation}
  This can be shown by viewing \cref{eq:ex-a:ode} in the jet space \(J_1\), resulting in
  \begin{equation}
    \frac{\tD{x} \hat{y}_\epsilon(x,y)}{\tD{x} \hat{x}_\epsilon(x,y)} =
    \frac{\partial_x \hat{y}_\epsilon + \omega(x,y) \partial_y \hat{y}_\epsilon}{\partial_x \hat{x}_\epsilon + \omega(x,y) \partial_y \hat{x}_\epsilon} =
    \frac{y}{1} =
    \hat{y}_\epsilon =
    \omega(\hat{x}_\epsilon,\hat{y}_\epsilon), \quad
    \forall \epsilon.
  \end{equation}
  So by \cref{lem:simple-first-order-symmetry} the transformations are point symmetries.
  By fixing \(\pqty{x,y}=\pqty{\fixed{x},\fixed{y}}\),
  \begin{equation}
    \dv{\epsilon} \pqty{\hat{x}_\epsilon(\fixed{x},\fixed{y}), \hat{y}_\epsilon(\fixed{x},\fixed{y})} =
    \pqty{\dv{\fixed{\hat{x}}}{\epsilon}, \dv{\fixed{\hat{y}}}{\epsilon}} =
    \pqty{1,0}
  \end{equation}
  for any \(\pqty{\fixed{x},\fixed{y}}\).
  This means that the transformations are smooth in \(\epsilon\), and thus constitute a one parameter Lie group.
\end{exmp}
While the Lie groups of point symmetries can be parametrized in the explicit way used in \cref{eq:1p-lie-point-symmetry}, it is more useful to characterize the Lie group by its associated vector field
\begin{equation} \label{eq:tangent-field}
  \pqty{\xi(x,y), \eta(x,y)},
\end{equation}
also known as the tangent field of the transformation group.
The tangent field can be calculated pointwise by 
\begin{equation}
  \eval{\dv{\epsilon} \pqty{\hat{x}_\epsilon(\fixed{x},\fixed{y}), \hat{y}_\epsilon(\fixed{x},\fixed{y})}}_{\epsilon=0} = \pqty{\xi(\fixed{x},\fixed{y}), \eta(\fixed{x},\fixed{y})}
\end{equation}
for every fixed point \(\pqty{\fixed{x},\fixed{y}} \in E\).
The tangent field can be thought of as the field that points in \(E\) will flow along when increasing the parameter \(\epsilon\) by which the transformation \(\Gamma_\epsilon\) is selected.

%-----------------------------------------------------------------------------
\subsection{The linearized symmetry condition}

Using the tangent field of a one-parameter Lie symmetry group, the symmetry condition as formulated in \cref{lem:simple-first-order-symmetry} can be further simplified.
\begin{lem} \label{lem:linearized-first-order-symmetry}
  The transformations in a Lie group of point transformations are symmetries of \cref{eq:first-order-ode} if and only if
  \begin{equation}
    \partial_x \eta + (\partial_y \eta - \partial_x \xi) \omega - \partial_y (\xi) \omega^2 =
    \xi \partial_x \omega + \eta \partial_y \omega,
  \end{equation}
  where \(\pqty{\xi(x,y), \eta(x,y)}\) is the tangent field of the Lie group.
\end{lem}
\begin{proof}
  The transformations \(\Gamma_\epsilon\) are point symmetries of \cref{eq:first-order-ode} if and only if
  \begin{equation} \label{eq:parametrized-symmetry-cond}
    \frac{\partial_x \hat{y}(x,y;\epsilon) + \omega(x,y) \partial_y \hat{y}(x,y;\epsilon)}{\partial_x \hat{x}(x,y;\epsilon) + \omega(x,y) \partial_y \hat{x}(x,y;\epsilon)} = \omega(\hat{x}(x,y;\epsilon),\hat{y}(x,y;\epsilon)).
  \end{equation}
  Deriving by \(\epsilon\),
  \begin{equation}
    \begin{split} \label{eq:derive-symmetry-cond}
      \partial_x \dv{\hat{y}}{\epsilon}{(x,y;\epsilon)} &+ (\partial_y \dv{\hat{y}}{\epsilon}{(x,y;\epsilon)} - \partial_x \dv{\hat{x}}{\epsilon}{(x,y;\epsilon)}) \omega - \partial_y (\dv{\hat{x}}{\epsilon}{(x,y;\epsilon)}) \omega^2 =\\
      &= \hat{x}(x,y;\epsilon) \partial_x \omega + \hat{y}(x,y;\epsilon) \partial_y \omega.
    \end{split}
  \end{equation}
  By evaluating the expression at \(\epsilon = 0\), \(\dv*{\hat{x}}{\epsilon} = \xi\) and \(\dv*{\hat{y}}{\epsilon} = \eta\) where \(\pqty{\xi(x,y), \eta(x,y)}\) is the tangent field.
  Additionally, \(\eval{\hat{x}(x,y;\epsilon)}_{\epsilon = 0} = x\) and \(\eval{\hat{y}(x,y;\epsilon)}_{\epsilon = 0} = y\) since the transformation parametrized by \(\epsilon = 0\) is always the identity transformation in one parameter Lie groups of transformation.
  Thus \cref{eq:derive-symmetry-cond} is equivalent to
  \begin{equation} \label{eq:linearized-first-order-symmetry-result}
    \partial_x \eta + (\partial_y \eta - \partial_x \xi) \omega - \partial_y (\xi) \omega^2 =
    \xi \partial_x \omega + \eta \partial_y \omega.
  \end{equation}
  Since the transformation parametrized by \(\epsilon = 0\) is always the identity transformation, \cref{eq:linearized-first-order-symmetry-result} must also imply \cref{eq:parametrized-symmetry-cond}, and hence the proof is complete.
\end{proof}

%-----------------------------------------------------------------------------
\subsection{Invariant solutions and trivial symmetries}

An important property of a Lie group of symmetries is which, if any, solution curves \(\gamma\) are invariant under all transformations \(\Gamma_\epsilon\).
The curve being invariant means that the transformed solution curve \(\Gamma_\epsilon\gamma = \gamma\).
It should be noted that this does not mean that every point in \(\gamma\) need be transformed to itself; the equivalency must merely hold for the entire set \(\gamma\).

The invariance of a solution can be studied using the characteristic
\begin{equation}
  Q(x, y, y') = \eta(x, y) - y' \xi(x, y)
\end{equation}
of a Lie group of symmetries with tangent field \(\pqty{\xi(x,y), \eta(x,y)}\).
The characteristic can be seen the magnitude of the cross product between the tangent field and the direction of solution curves
\begin{equation}
  \tD{x} \pqty{x, y} = \pqty{1, y'}.
\end{equation}
As is known from linear algebra, the cross product of two vectors has magnitude 0 if and only if they are parallel.
So if the characteristic is equal to zero in a point \(\fixed{x}, \fixed{y}\), the tangent field is parallel with the tangent of the solution curve in that point.
For first order ODE:s, \cref{eq:first-order-jet-ode} always holds on solution curves.
Hence, the reduced characteristic
\begin{equation}
  \bar{Q}(x, y) = \eta(x, y) - \omega(x, y) \xi(x, y)
\end{equation}
can be used to find invariant solutions of a first order ODE under a specific Lie point symmetry.
For any solution curve \(\gamma_u \subset E\) corresponding to a solution \(u(x)\), the curve is invariant under a Lie point symmetry if and only if
\begin{equation}
  \bar{Q}(x, u(x)) = 0.
\end{equation}

A Lie group of symmetries for which all solution curves \(\gamma\) are invariant is called a trivial symmetry group.
For such a symmetry group, the reduced characteristic will be zero everywhere, or in other words
\begin{equation} \label{eq:trivial-symmetry-first-order}
  \bar{Q}(x, y) \equiv 0.
\end{equation}
Trivial symmetries are called trivial, since finding one is easy.
Simply let the tangent field \(\pqty{\xi(x,y), \eta(x,y)} = \pqty{1, \omega(x,y)}\).
The Lie transformation group is a point symmetry group, since \cref{lem:linearized-first-order-symmetry} is fulfilled.
And it is a trivial symmetry group since \cref{eq:trivial-symmetry-first-order} is always fulfilled.

%=============================================================================
\section{Generalizations to higher orders}

The theory so far discussed has dealt with single ODE:s of the first order.
Most systems of interest are however not modeled in this way.
Therefore, the theory need be extended in three ways: from ordinary differential equations to partial differential equations, from first order differential equations to \(k:th\) order differential equations and from single differential equations to systems of differential equations.
While this might seem like a large amount of generalization to do in one step, the notation needed to deal with the added complexity is common enough for all three generalizations that they are best dealt with together.

%-----------------------------------------------------------------------------
\subsection{The infinitesimal generator and prolongations}

To simplify the notation a differential operator
\begin{equation}
  X = \xi(x,y) \partial_x + \eta(x,y) \partial_y
\end{equation}
called an infinitesimal generator, can be introduced.
The infinitesimal generator acts on mappings from \(E\) and, since it is defined only by \(\xi\) and \(\eta\), serves as a characterization of a Lie group of transformations.
Applying the operator to a mapping \(f: E \to E\), one gets a measure of the change in \(f\) when continuously transforming the plane which it acts on, since
\begin{equation}
  \eval{\dv{\epsilon} f \circ \Gamma_\epsilon}_{\epsilon = 0} = X f,
\end{equation}
where \(\Gamma_\epsilon\) is a Lie group of symmetries with corresponding tangent field \(\pqty{\xi(x,y), \eta(x,y)}\).

Without much work, the currently established mechanics of Lie point symmetries can be restated compactly using the infinitesimal generator.
The only additional theory needed is a generalization of prolongations.
In \cref{sec:jet-spaces} the concept of a prolonged function was introduced.
This allowed a function to be represented by a corresponding curve in a jet space \(J_k\).
Both mappings \(f: E \to E\) and operators on such mappings can also be prolonged, resulting in mappings \(\underset{k}{f}: J_k \to J_k\) and operators on such mappings.

The prolongations of mappings \(f: E \to E\) should fulfill the criteria
\begin{equation}
  \underset{k}{f}(\underset{k}{\gamma_u}) = \underset{k}{f(\gamma_u)},
\end{equation}
and thus 
\begin{equation}
  f^i(x, u) = \dv[i]{f(x, u(x))}{x}\qc i = 0, \dots, k,
\end{equation}
where \(f^i\) is the \(i\):th component of the prolonged mapping \(\underset{k}{f}\), the 0:th component referring to the \(y\)-component of the original mapping \(f\).
Using the total derivative, this can be rewritten as
\begin{equation}
  f^i = \tD{x} f^{i-1} \qc i = 0, \dots, k.
\end{equation}
In an analogous way, the prolongations of operators on mappings \(f: E \to E\) should be consistent independent of the order the prolongations are realized. % TODO: Write this more concretely

The infinitesimal generator can be prolonged, still entirely defined by \(\xi\) and \(\eta\), to act on any given jet space \(J_k\).
For first order ODE:s the jet space is \(J_1\), and thus the first prolongation is needed, which takes the form
\begin{equation}
  \underset{1}{X} = \xi(x,y) \partial_x + \eta(x,y) \partial_y + \underset{1}{\eta}(x,y) \partial_{y'},
\end{equation}
where
\begin{equation}
  \underset{1}{\eta}(x,y) =
  \eta_x(x,y) + (\eta_y(x,y) - \xi_x(x,y)) y' - \xi_y(x,y) \left(y'\right)^2,
\end{equation}
where the subscripts \(x\) and \(y\) denote the partial derivatives \(\partial_x\) and \(\partial_y\).
The linearized symmetry condition in \cref{lem:linearized-first-order-symmetry} can be rewritten using the infinitesimal operator.
\begin{lem} \label{lem:linearized-first-order-symmetry-infinitesimal}
  A Lie group of point transformations is a symmetry of \cref{eq:first-order-ode} if
  \begin{equation} \label{eq:linearized-first-order-symmetry}
    \eval{\underset{1}{X}\left(y' - \omega(x,y)\right)}_{y' = \omega(x,y)} = 0,
  \end{equation}
  where \(\underset{1}{X}\) is the first prolongation of the infinitesimal generator of the Lie group of point transformations.
\end{lem}
On this form, the linearized symmetry condition is easier to interpret:
\(\varepsilon(\underset{1}{z}) = y' - \omega(x,y) = 0\) holds for a solution of \cref{eq:first-order-ode}.
Since the transformations of solution curves must be solution curves in order for the transformations to be a symmetry group, the value of \(\varepsilon(\underset{1}{z})\) must not change.
By evaluating the expression at \(y' = \omega(x,y)\), it is ensured that this holds for any solution to \cref{eq:first-order-ode}.

By finding further prolongations of \(X\), the linearized symmetry condition can be extended to ODE:s of higher degrees.
The \(k\):th order prolongation of the infinitesimal generator is
\begin{equation}
  \underset{k}{X} = \xi(x,y) \partial_x + \eta(x,y) \partial_y + \underset{1}{\eta}(x,y) \partial_{y'} + \dots + \underset{k}{\eta}(x,y) \partial_{y^{(k)}}
\end{equation}
where \(\underset{k}{\eta}\) is defined recursively by
\begin{align}
  \underset{0}{\eta} &= \eta\\
  \underset{k}{\eta}(x,y) &= \tD{x}(\underset{k-1}{\eta}) - y^{(k)} \tD{x} \xi.
\end{align}
\Cref{lem:linearized-first-order-symmetry-infinitesimal} will hold for higher order ODE:s, given that \(y'\) is replaced by \(y^{(k)}\) and \(\omega(x,y)\) with \(\omega(\underset{k-1}{z})\), and that the infinitesimal generator is prolonged to the \(k\):th degree.

\section{Finding Lie point symmetries}

% TODO: Write about basis for generators
% TODO: Get canonical coordinates in to the text somehow
% TODO: Write about canonical forms of generators
